function getQueryParameterByName(n){var i=new RegExp("[?&]"+n+"=(\\w*)","i"),t=i.exec(location.search);return t===null?null:t[1]}function getClientTypeFromQuery(){var n=getQueryParameterByName("ClientType"),t,i;return n?(n=n.toLowerCase(),t=["WebMail","UserSettings"],i=$.grep(t,function(t){return n===t.toLowerCase()})[0],i||null):null}function setLoginTab(n){var t=$(".login-tab"),i;n==="WebMail"?($(t[0]).addClass("selected"),$(t[1]).removeClass("selected")):($(t[0]).removeClass("selected"),$(t[1]).addClass("selected"));i=$("input[name=clientType]");i.val(n);googleAnalytics("trackTabswitch",n)}$(function(){function n(n){return/^([a-zA-Z0-9&!=%'{}_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(n)}function t(){var t=$(".login-input"),i=t.val(),r=$(".login-validation.email");return!i||n(i)?(r.hide(),i&&setInputErrorStyle(t,!1),!0):(r.show(),setInputErrorStyle(t,!0),!1)}$(".tooltip").tooltipster();validationRules.push(t)});$(function(){var n=getStorageManager(),t=getClientTypeFromQuery();t?setLoginTab(t):n.restoreClientType();$(".login-submit").on("click",n.saveClientType)})